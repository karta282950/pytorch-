!function(){"use strict";const e="undefined"!=typeof window?window:{benji:{},googletag:{cmd:[]},YAHOO:{}};["localhost","aol.com","aol.co.uk","aol.de","autoblog.com","cricket.yahoo.sportz.io","engadget.com","yahoo.com","yahoo.com.hk","yahoo.com.tw"].map((e=>`([\\.\\w\\-]+\\.)?${e.replace(/\./g,"\\.")}`)),["cricket.yahoo.net"].map((e=>e.replace(/\./g,"\\.")));const t="initialize",i="initialize_ack",s="initialize_i13n",n="intersect",o="render",r="resize_ad",a="start_ads",c="tab_focus",d="index",l=!0,h="bucket",g="cobrand",u="commerceArticleType",p="hashtag",f="lang",m="0",b="testid",y="ncid",v="fr",_="pg_name",E="type",A="benji-premium-ad",S="collapse",C="abp",I="other";var R,w;!function(e){e.DynamicAllocation="Dynamic Allocation",e.DirectSold="Direct Sold"}(R||(R={})),function(e){e.AdTech="Ad Tech",e.House="House",e.AdX="AdX",e.Unknown="Unknown"}(w||(w={}));const k={Horizon:{breakpoints:{"0,480":[16,9],"1331,Infinity":[16,3],"481,1330":[40,9]},size:[3,1]},Lighthouse:{breakpoints:{"0,Infinity":[9,16]},size:[2,2]},Spotlight:{breakpoints:{"0,480":[8,9]},size:[3,2]}},T={"[1440,1024]":"Login","[2,2]":"Lighthouse","[280,55]":"TradeNow","[3,1]":"Horizon","[3,2]":"Spotlight","[343,310]":"FeaturedBrokerMweb","[758,198]":"FeaturedBroker"},B="https://securepubads.g.doubleclick.net/tag/js/gpt.js",z="https://pagead2.googlesyndication.com/tag/js/gpt.js",P="https://opus.analytics.yahoo.com/tag/opus.js",x="TABOOLA_PUBLISHERID_MACRO",L=`https://cdn.taboola.com/libtrc/${x}/loader.js`,O="script",F="f10d509c-script",j="gpt-tag",M="opus-script",D="text/javascript",N=1,U={adsFinishParse:"ads:finish:parse",caasArticle:"caas:article:init",caasSidekick:"caas:sidekick:init",darlaComplete:"darla:complete",waferFetch:"fetch:success",waferReady:"wafer:ready"},$=["enableCtrldSRABatch","headerBidding","enableRefreshDebounce"],q={impressionViewable:"impressionViewable",slotOnload:"slotOnload",slotRenderEnded:"slotRenderEnded",slotRequested:"slotRequested",slotResponseReceived:"slotResponseReceived",slotVisibilityChanged:"slotVisibilityChanged"},V={limitedAds:!0,restrictDataProcessing:!0},H={nonPersonalizedAds:!0},G={AdTech:[5307966191],AdX:[5285812218],House:[5286843762,5335252228,5335488228]},W="benji:render",Q={benjiReady:"benji:ready",tabFocus:"tabFocus",userAction:"userAction"},K=[h,g,u,f,"pd","lu","site","ver",p,"pct","pt","spaceid","lmsid","pstaid","mchnm","device","region","url","colo",_,"ncid","fr","frtype","axid"],X=["axid","colo","device","fr","frtype","lang","lmsid","lu","ncid","pct","pd",_,"pstaid","pt","region","site","ver"];var J;!function(e){e.att="att",e.attarticles="attarticles",e.aol="aol",e.autoblog="autoblog",e.autos="autos",e.engadget="engadget",e.entertainment="entertainment",e.finance="finance",e.fp="fp",e.frontpage="frontpage",e.gma="gma",e.intheknow="intheknow",e.lifestyle="lifestyle",e.money="money",e.movies="movies",e.music="music",e.news="news",e.rivals="rivals",e.sports="sports",e.style="style",e.tech="tech",e.techcrunch="techcrunch"}(J||(J={}));const Y="scriptId",Z=`https://cadmus.script.ac/${Y}/script.js`,ee=`https://s.yimg.com/aaq/f10d509c/${Y}.js`,te=!0,ie={[J.aol]:"d3decajspqn3ue",[J.autoblog]:"dy348zlstbwc5",[J.autos]:"dy348zlstbwc5",[J.engadget]:"dnt3mrnrwwk1",[J.entertainment]:"d25harazjdfhwp",[J.finance]:"d3lm64ch1c76ug",[J.fp]:"d1ccw66oyq8ex2",[J.frontpage]:"d1ccw66oyq8ex2",[J.intheknow]:"dlt600z2q25zi",[J.lifestyle]:"d12h8q03mwvikl",[J.news]:"d1irmdsmbztlvx",[J.rivals]:"d24s7e71jngyhb",[J.sports]:"d2ftq0ol13ke77",[J.style]:"d12h8q03mwvikl",[J.techcrunch]:"d2wmmfwby4fr6i",default:"d9pmsg6mvxzz6",sandbox:"d22u7q1sccu6up"},se={_rid:"yrid",lpstaid:"pstaid",partner:g},ne=["att","frontier","rogers"],oe=[b,y,v,E],re={bucket:"bucket",hashtag:"hashtag"},ae=["abk","axid",h,"partner","colo","device",f,"lu","region","site","ver"],ce=[b,y,v,E,_],de={[J.att]:"yhp",[J.attarticles]:"ynews",[J.autos]:"yautos",[J.engadget]:"eng",[J.entertainment]:"yent",[J.finance]:"yfin",[J.fp]:"yhp",[J.gma]:"ynews",[J.lifestyle]:"ylife",[J.money]:"yfin",[J.movies]:"ymov",[J.music]:"yent",[J.news]:"ynews",[J.sports]:"ysports",[J.style]:"ylife",[J.tech]:"ytech"},le=[u,"abk",p,"pct","pd",_,"pt","spaceid","lmsid","pstaid","lpstaid","mchnm","_rid","ticker","site","sck"],he={fetchMarginPercent:-1,mobileScaling:-1,renderMarginPercent:50},ge="RENDER_SUCCEEDED",ue="RENDER_FAILED",pe="SLOT_REQUESTED",fe="GAM_AD_PAGE_LOAD_COMPLETE",me={allowOverlayExpansion:!1,allowPushExpansion:!0,sandbox:!0};var be;!function(e){e.RESERVED="RESERVED",e.STANDARD="STANDARD"}(be||(be={}));const ye=["sellPersonalInformation","accountMatching","crossDeviceMapping"],ve=["firstPartyAds"],_e=["firstPartyAds","sellPersonalInformation","accountMatching","crossDeviceMapping"],Ee=["firstPartyAds","sellPersonalInformation","accountMatching","crossDeviceMapping"],Ae=["firstPartyAds","sellPersonalInformation","accountMatching","crossDeviceMapping"],Se={flush:!0};function Ce(t){const i=1e3*t,s=new CustomEvent(Q.tabFocus);let n=!0,o=null;e.addEventListener("focus",(()=>{!n&&o&&Date.now()-o>i&&e.dispatchEvent(s),n=!0})),e.addEventListener("blur",(()=>{n=!1,o=Date.now()}))}const Ie="default";function Re(e,t,i){let s,n,o,r,a=-1;if("up"===i)for(s=e.top,n=e.bottom;s<=n;)a=Math.floor((s+n)/2),o=document.elementFromPoint(e.left,a),o===t?n=a-1:s=a+1;else if("down"===i)for(s=e.top,n=e.bottom;s<=n;)a=Math.floor((s+n)/2),o=document.elementFromPoint(e.left,a),o===t?s=a+1:n=a-1;else if("left"===i)for(s=e.left,n=e.right;s<=n;)a=Math.floor((s+n)/2),o=document.elementFromPoint(a,e.top),o===t?n=a-1:s=a+1;else for(s=e.left,n=e.right;s<=n;)a=Math.floor((s+n)/2),o=document.elementFromPoint(a,e.top),o===t?s=a+1:n=a-1;const c="up"===i||"left"===i?s:n;if(r="up"===i||"down"===i?document.elementFromPoint(e.left,c):document.elementFromPoint(c,e.top),r!==t)throw new Error("Element is completely obstructed "+i);return c}const we=e=>{if(!e)return!1;if(!((t=e).offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var t;const i=e.getBoundingClientRect(),s=window.innerWidth,n=window.innerHeight;if(i.top>n||i.bottom<0||i.right<0||i.left>s)return!1;const o=i.left<0?1:i.left+1,r=i.right>s?s-1:i.right-1,a=i.top>0?i.top+1:1,c=i.bottom>n?n-1:i.bottom-1,d=i.height*i.width;if((c-a)*(r-o)/d<.5)return!1;if(function(e,t){const{left:i,top:s,bottom:n,right:o}=e,r=[[i,s],[i,n],[o,s],[o,n]];for(const[e,i]of r){const s=document.elementFromPoint(e,i);if(s!==t&&!t.contains(s))return!0}return!1}({bottom:c,left:o,right:r,top:a},e))try{const t=function(e,t,i){const{top:s,bottom:n,left:o,right:r}=e;try{const e=Re({bottom:n,left:o,right:r,top:s},t,"up"),a=Re({bottom:n,left:o,right:r,top:e},t,"down"),c=Re({bottom:a,left:o,right:r,top:e},t,"left");return(a-e)*(Re({bottom:a,left:c,right:r,top:e},t,"right")-c)/i}catch(e){return 0}}({bottom:c,left:o,right:r,top:a},e,d);return t>=.5}catch(e){return!1}return!0};function ke(e){const t=window.document.getElementById(e);if(!t)return!1;const i=t?.querySelector("iframe");return i instanceof HTMLElement&&we(i)}function Te(e,t){let i=[];return"string"==typeof t?i=e.store.getRegionAdComponents(t):t?.forEach((t=>{const s=t.split(":"),n=s[0],o=s[1],r=n?.length,a=2===s.length&&r&&o?.length>0;r&&void 0===o?i.push(e.store.getAdComponentById(n)):a&&i.push(e.store.getAdComponent(n,o))})),i}const Be=(e,t)=>{if(e&&e.includes("${")){const i="yhp",s=t.region,n=t.site,o=de[n]||i;return e.replace(/\${REGION}/g,s.toLowerCase()).replace(/\${SITE}/g,o)}return e},ze=(e,t)=>{let i,s;t||(t=4),s=e;for(let e=0;e<=t;e++)(s?.id&&"string"==typeof s.id&&(s.id.startsWith("sda-")||s.id.toLowerCase().startsWith("ad-")||s.id.toLowerCase().includes("-ad-"))||s?.className?.startsWith("ad-"))&&(i=s),s=s&&s.parentElement;return i};function Pe(e){const t=void 0===e||!ie.hasOwnProperty(e)?Ie:e,i=ie[t];let s=!1;var n;return t!==J.finance&&(s=!((n=N)<0||n>100)&&Math.floor(100*Math.random())<=n),s?Z.replace(Y,i):ee.replace(Y,i)}function xe(e,t){const i={};return Object.keys(e).forEach((s=>{let n=e[s];t.includes(s)&&(n=Array.isArray(n)?n.map((e=>Le(e))):Le(n)),i[s]=n})),i}function Le(e){let t=function(e){const t=/%[0-9A-Fa-f]{2}/g,i=e.replace(t,(e=>{try{return decodeURIComponent(e)}catch(t){return e}}));return i}(e);return[/(<([^>]+)>)/gm,/[\r\n]+/gm].forEach((e=>{t=t.replace(e,"")})),t}function Oe(e){const t={};return Object.keys(e).forEach((i=>{void 0!==e[i]&&(t[i]=e[i])})),t}function Fe(e){return!!(e&&"object"==typeof e&&e.hasOwnProperty("path")&&e.hasOwnProperty("size"))}const je={};const Me="pointerup",De="scroll",Ne="pointermove",Ue="keydown";const $e=function(e,t){let i=0;return(...s)=>{const n=performance.now();if(!(n-i<t))return i=n,e(...s)}}((function(){const t=new CustomEvent(Q.userAction);e.dispatchEvent(t)}),200);const qe={},Ve={},He={},Ge={},We=[];function Qe(){this.gpt.addEventListener(q.impressionViewable,(e=>{const t=e.slot.getSlotElementId(),i=Ve[t];i&&i()})),this.gpt.addEventListener(q.slotVisibilityChanged,(e=>{const t=e.slot.getSlotElementId(),i=qe[t];i&&i(e.inViewPercentage)}))}function Ke(){[Ne,Me,De,Ue].forEach((t=>{e.addEventListener(t,$e)})),e.addEventListener(Q.userAction,(()=>{for(;We.length>0;){const e=We.pop();e&&e()}}))}class Xe{action;duration;timerId;elapsedTime;constructor(e){const{action:t,duration:i}=e;this.action=t,this.duration=i,this.timerId=void 0,this.elapsedTime=0,this._resetElapsedTime()}getElapsedTime(){return this.elapsedTime}pause(){this._cancelElapse()}resume(){void 0===this.timerId&&0!==this.elapsedTime&&this._elapse()}start(){this._resetElapsedTime(),this._cancelElapse(),this._elapse()}stop(){this._resetElapsedTime(),this._cancelElapse()}_resetElapsedTime(){this.elapsedTime=0}_elapse(){this.timerId=e.setInterval((()=>{this.elapsedTime+=1,this.elapsedTime>=this.duration&&(this.stop(),this.action())}),1e3)}_cancelElapse(){clearInterval(this.timerId),this.timerId=void 0}}function Je(){this.timer?.start()}function Ye(e){this.viewPercentage=e;!0===this.eligibleForTimedRefresh&&this.isInView()&&this.refresh()}function Ze(){this.isInView()&&(this.timer?.start(),this.refresh())}class et{containerMap;eligibleForTimedRefresh;features;gptComponent;gptSetting;path;size;id;isEdgeToEdge;kvs;metrics;ntsFallBack;refreshConfig;region;slot;stackGroup;store;timer;useSecure;viewPercentage;customSizeConfig;resizeConfig;disableRefresh;_fetchCount;_failureCount;_isIntersecting;_stackAdLastRefreshedAt;constructor(e){const{containerMap:t,disableRefresh:i,features:s,gptComponent:n,gptSetting:o,kvs:r,ntsFallBack:a,refreshConfig:c,region:d,id:l,path:h,customSizeConfig:g,resizeConfig:u,size:p,stackGroup:f,store:m,useSecure:b}=e;if(this.containerMap=t,this.features=s,this.id=l,this.path=h,this.size=p,this.gptComponent=n,this.metrics={},this.ntsFallBack=a,this.refreshConfig=c,this.region=d,this.stackGroup=f,this.store=m,this.useSecure=b,this.viewPercentage=0,this._isIntersecting=!1,this._stackAdLastRefreshedAt=0,this.gptSetting=o,this._createSlot({gptSetting:this.gptSetting,id:l,path:h,size:p}),this._failureCount=0,this._fetchCount=0,r&&(this.kvs=r,this.gptComponent.setTargetingForSlot(this,r)),g&&(this.customSizeConfig=g),u&&(this.resizeConfig=u),!i&&this.refreshConfig.duration){this.eligibleForTimedRefresh=!1;const e=()=>{this.isInView()?this.refreshConfig.requireUserAction?We.push((()=>this.refresh())):this.refresh():this.eligibleForTimedRefresh=!0},{duration:t}=this.refreshConfig;this.timer=new Xe({action:e.bind(this),duration:t})}this.disableRefresh=i,this.store.add(d,l,this)}disableAllRefresh(){this.disableRefresh=!0}destroy(){this._unloadHandler(),this.timer&&(this.timer.stop(),delete this.timer),this.gptComponent.destroy([this.slot]),this.store.delete(this.region,this.id)}increaseFailureCount(){this._failureCount+=1}increaseFetchCount(){this._fetchCount+=1}isInitiallyLoaded(){return 1===this._fetchCount}isInView(){return this.useSecure?this._isIntersecting:ke(this.id)&&this.viewPercentage>=50}getRenderCount(){return this._fetchCount-this._failureCount}refresh(){if(this.disableRefresh)return;if(this.refreshConfig.limit&&this.refreshConfig.limit<=this.getRenderCount())return;this.viewPercentage=0;if(this.refreshConfig.sameSizeRefresh&&!function(e){const t=e?.getSizes();if(!t)return!1;for(let e=0;e<t.length;e++)if("fluid"===t[e])return!0;return!1}(this.slot)&&this.slot?.getSizes().length>1&&1===this._fetchCount)!function(e){try{const{slot:t,features:i}=e,s=t.getSlotElementId(),n=document.getElementById(s);if(n instanceof HTMLElement){const s=n.children[0],o=s.children[0],r=e.isEdgeToEdge?s:o,a=!isNaN(parseInt(r.height)),c=!isNaN(parseInt(r.width)),d=a?parseInt(r.height):r.offsetHeight,l=c?parseInt(r.width):r.offsetWidth,h=t.getSizes();let g;for(let e=0;e<h.length;e++){const t=h[e];if(t.height===d&&t.width===l){g=[t.width,t.height];break}}if(void 0===g)return void e.gptComponent.refresh([e.slot]);if(e.size=g,e.isEdgeToEdge||(n.style.minHeight=`${d}px`),i?.enableSizeMapping)return e.gptComponent.enableSizeMappingForSlot(e,[0,0],g),void e.gptComponent.refresh([e.slot]);e.gptComponent.destroy([e.slot]);const u={id:e.id,path:e.slot.getAdUnitPath(),size:g};e.gptComponent.create(u,e),e.kvs&&e.gptComponent.setTargetingForSlot(e,e.kvs),e.renderSlot()}}catch(t){e.gptComponent.refresh([e.slot])}}(this);else if(this.stackGroup&&this.features?.enableAdStacking){if(!(Date.now()-this._stackAdLastRefreshedAt<=3e3)){const e=this.store.getStackAdComponents(this.stackGroup).map((e=>(e.id!==this.id&&(e.eligibleForTimedRefresh=!1),e._stackAdLastRefreshedAt=Date.now(),e.slot)));this.gptComponent.refresh(e)}}else this.gptComponent.refresh([this.slot]);this.eligibleForTimedRefresh=!1}render(){this.disableRefresh||this._loadHandler(),this.renderSlot()}renderSlot(){this.gptComponent.render(this.useSecure&&this.containerMap?.[this.id]?this.containerMap[this.id]:this.id,this)}renewTimer(e){if(void 0===this.timer)return;const t=this.timer.action;this.timer.stop(),this.timer=new Xe({action:t,duration:e})}_createSlot(e){this.gptComponent.create(e,this)}_loadHandler(){this.useSecure||(qe[this.id]=Ye.bind(this),Ve[this.id]=Je.bind(this),He[this.id]=Ze.bind(this))}_unloadHandler(){delete qe[this.id],delete Ve[this.id],delete He[this.id]}loadResizeHandler(e){this.useSecure||(Ge[this.id]=e)}unloadResizeHandler(){this.useSecure||delete Ge[this.id]}}function tt(e){return e instanceof et}function it(e){const t=[],{duration:i,limit:s,requireUserAction:n,sameSizeRefresh:o,reserved:r}=this.config.setting?.refresh||{};let{disableRefresh:a}=this.config.setting?.refresh||{};const c=this.i13nStore.currentI13n||{};c.abk!==C&&c.abk!==I||(a=!0);const{feature:d}=this.config,l={disableRefresh:a,duration:i,limit:s,requireUserAction:n,reserved:r,sameSizeRefresh:o},h=this.config.setting?.useSecure??!1;return Object.entries(e).forEach((([e,i])=>{if(!Fe(i))return;const{customSizeConfig:s,id:n,size:o,region:r,resizeConfig:a,kvs:g,disableRefresh:u,ntsFallBack:p,stackGroup:f,gptSetting:m}=i,b=Be(i.path,c);if(void 0!==this.store.getAdComponent(r,e))return;const y=i.refresh,v=y?.requireUserAction??i.requireUserAction??l?.requireUserAction,_=y?.sameSizeRefresh??i.sameSizeRefresh??l?.sameSizeRefresh,E={...l,...y,requireUserAction:v,sameSizeRefresh:_},A={enableAdStacking:d?.enableAdStacking||!1,enableSizeMapping:d?.enableSizeMapping||!1},C=document?.getElementById(n),I=document?.getElementById(`${n}-${S}`),R={containerMap:this.containerMap,customSizeConfig:s,disableRefresh:l.disableRefresh?l.disableRefresh:u,features:A,gptComponent:this.gpt,gptSetting:m,id:n,kvs:g,ntsFallBack:p,path:b,refreshConfig:E,region:r,resizeConfig:a,size:o,stackGroup:f,store:this.store,useSecure:h};if(C||A.enableAdStacking&&I){const e=new et(R);t.push(e)}})),t}const st="https://noa.yahoo.com/p",nt="unknown",ot=(e,t)=>{const{spaceid:i,...s}=t,n=Object.keys(s).map((e=>`${e}=${encodeURIComponent(s[e])}`)).join("&");return`${e}?s=${i}&t=${Date.now()}&_I=&_AO=0&_NOL=0&${n}`};function rt(e,t){const{i13n:i}=e,{currentI13n:{pd:s=nt,pt:n=nt}}=t,{bucket:o=nt,colo:r=nt,device:a=nt,lang:c=nt,partner:d=nt,region:l=nt,site:h=nt,src:g=nt,spaceid:u=nt,_rid:p=nt}=i;return{spaceid:u,src:g,site:h,partner:d,lang:c,region:l,device:a,colo:r,test:Array.isArray(o)?o.join(","):o,rid:p,pd:s,pt:n}}function at(e,t){const{setting:{consent:{allowOnlyNonPersonalizedAds:i,allowOnlyLimitedAds:s}={allowOnlyLimitedAds:!1,allowOnlyNonPersonalizedAds:!1}},i13n:n}=e,{currentI13n:{pd:o=nt,pt:r=nt}}=t,{bucket:a=nt,colo:c=nt,device:d=nt,lang:l=nt,partner:h=nt,region:g=nt,site:u=nt,src:p=nt,spaceid:f=nt,_rid:m=nt}=n;return{spaceid:f,src:p,site:u,partner:h,lang:l,region:g,device:d,colo:c,bucket:Array.isArray(a)?a.join(","):a,rid:m,limitedAds:s,NPA:i,pd:o,pt:r}}const ct=(e,t)=>{const i={etag:"performance",etrg:"backgroundPost",outcm:"performance",usergenf:m},s={A_utm:JSON.stringify(e)},n=ot("https://geo.yahoo.com/p",{...i,...t,...s});return navigator.sendBeacon(n)},dt=(e,t)=>{const i=ot(st,{etrg:"backgroundPost",outcm:"gamMetric",...t,...e});return navigator.sendBeacon(i)},lt=(e,t)=>{const i=ot(st,{etrg:"backgroundPost",outcm:"gamDebug",...t,...e});return navigator.sendBeacon(i)},ht={};function gt(t,i){const s=t.slot.getSlotElementId(),n=this.store.getAdComponentById(s);if(void 0===n||!tt(n))return;const o=n.kvs?.loc;if(!o)return;if(!n||n.getRenderCount()>1)return;if("index"!==n.region)return;const r=Math.round(e.performance.now()),a=i[s];if(void 0!==a)if(void 0===a?.gamFetchTime)a.gamFetchTime=r;else{a.gamRenderTime=r;const{benjiRequestStartTime:e,gamFetchTime:t,gamRenderTime:i}=a,s=rt(this.config,this.i13nStore);ct({[`GAM_${o.toUpperCase()}_BRSTIME`]:e,[`GAM_${o.toUpperCase()}_FTIME`]:t,[`GAM_${o.toUpperCase()}_RTIME`]:i},s)}}const ut=function(t){const i=t?.id;if(!i)return;if(!t||t.getRenderCount()>1)return;const s=Math.round(e.performance.now());this[i]={benjiRequestStartTime:s}}.bind(ht);function pt(){const t=rt(this.config,this.i13nStore),i=Math.round(e.performance.now());ct({GAM_READY_TIME:i},t)}function ft(){const t=e.performance?.now;t&&(this.gpt.addCallbackToCmdQueue(pt.bind(this)),this.gpt.addEventListener(q.slotRequested,(e=>{gt.call(this,e,ht)})),this.gpt.addEventListener(q.slotOnload,(e=>{gt.call(this,e,ht)})))}function mt(e){e?.forEach((e=>{tt(e)&&ut(e),e.render()}))}function bt(e){if(void 0===e){return void mt(this.store.getRegionAdComponents(d))}mt(it.call(this,e))}function yt(e,t){if(e){const i=e.benjiAd?.slot,s=t&&i.id?function(e){return e+"-"+(new Date).getUTCMilliseconds()+"-benji-ad"}(i.id):i.id,n={id:s,path:i.path,region:i.region,size:i.size};return t&&t.elem&&(t.elem.id=s),n}}function vt(t){const i={};t&&(i[t.id]=t,bt.call(e.benji,i))}const _t={[U.caasArticle]:function(e){const t=yt(e&&e.meta&&e.meta.darlaConfig);t&&vt(t)}};const Et={[U.darlaComplete]:function(e){const t=yt(e&&e.meta&&e.meta.darlaConfig,e);t&&vt(t)}};function At(){const t=_t[U.caasArticle],i=Et[U.darlaComplete];e.wafer.ready((()=>{e.wafer.on(U.caasArticle,t),e.wafer.on(U.darlaComplete,i)}))}function St(e,t=!1){const i=t?z:B;(function(e){return!(!e.googletag||!e.googletag.apiReady)})(e)||Ct({id:j,tagSrc:i,WIN:e})}function Ct({tagSrc:e,id:t,WIN:i,async:s=!1,onloadCb:n,onerrorCb:o}){const r=i.document.createElement(O);s&&(r.async=!0),n&&"function"==typeof n&&(r.onload=n),o&&"function"==typeof o&&(r.onerror=o),r.type=D,r.src=e,r.id=t,i.document.head.append(r)}const It=(e,t,i)=>{const s=e.document.createElement("meta");s.name=t,s.content=i,e.document?.head.append(s)};const Rt=/;\s/g,wt=/([^=]+)=/i,kt=(e,t)=>{let i=null;return t=t.trim(),e.document?.cookie.split(Rt).some((e=>{let s,n;const o=e.match(wt);if(Array.isArray(o))try{s=decodeURIComponent(o[1]),n=decodeURIComponent(e.substring(s.length+1))}catch(e){}return!(s!==t||!n)&&(i=n.trim(),!0)})),i},Tt=e=>kt(e,"gam_id")||"",Bt=e=>{const t=(e=>kt(e,"axids")||"")(e);return new URLSearchParams(t).get("dv360")||""};function zt(e,t){let i=Tt(t);const s=Ot(t,b),{allowOnlyNonPersonalizedAds:n,allowOnlyLimitedAds:o}=e.config.setting?.consent||{},r=!n&&!o;(n||o)&&(i="");const{age:a=0,gender:c=""}=r&&e.config.setting?.userInfo||{},d=function(e){const t={},i=Ot(e,y);i&&(t.ncid=i);const s=Ot(e,v);if(s){t.fr=s;const i=Ot(e,E);i&&(t.frtype=i)}return t}(t),l=function(e,{age:t,axid:i,gender:s,i13n:n,queryI13n:o,testid:r}){const a={};Pt(ae,n,a),Pt(le,n,a),i&&(a.axid=xt(i)),r&&(a.testid=xt(r)),t&&(a.bka=function(e){const t=[18,21,25,35,45,50,55,65,101].findIndex((t=>e<t));return-1===t?m:`${t}`}(t)),s&&"f"===s&&(a.bkg="1"),s&&"m"===s&&(a.bkg="2"),o&&Object.assign(a,o);const c=xe(a,ce);c&&Object.keys(c).length&&e.setTargeting(c);return c}(e.gpt,{age:a,axid:i,gender:c,i13n:e.config.i13n,queryI13n:d,testid:s});e.i13nStore.updateCurrent(l),e.hbc.activated&&l&&e.gpt.getTargetings(K,(t=>{e.hbc?.sendMnetKvs(t,{...l,...d})}))}function Pt(e,t,i){t&&"object"==typeof t&&!Array.isArray(t)&&0!==Object.keys(t).length&&e.forEach((e=>{if(t[e]){let s=e,n=xt(t[e]);se.hasOwnProperty(e)&&(s=se[e]),"site"===e&&t.partner&&ne.includes(t.partner)&&"fp"===n&&(n=`${n}_${t.partner}`),i[s]=n,re.hasOwnProperty(e)&&(i[s]=Lt(i[s]))}}))}function xt(e){return"number"==typeof e?`${e}`:e}function Lt(e){return"string"==typeof e?e.split(/[;,]+/):e}function Ot(e,t){if(!oe.includes(t))return null;return new URLSearchParams(e.location?.search).get(t)}const Ft=e=>{const t=document.getElementById(e);t?.style.setProperty("display","none");const i=t?.parentElement&&ze(t.parentElement);i?.style?.setProperty("display","none")};const jt={[q.slotRenderEnded]:function(e){if(e&&e.isEmpty){const t=e?.slot?.getSlotElementId(),i=this.store.getAdComponentById(t);if(i&&tt(i)){if(this.nts.activated&&i.ntsFallBack?.position||this.config?.feature?.enableAdStacking&&i.stackGroup)return;i.destroy()}Ft(t)}}};function Mt(){const e=jt[q.slotRenderEnded];this.gpt.addEventListener(q.slotRenderEnded,e.bind(this))}const Dt=(e,t)=>{e.dispatchEvent(new CustomEvent(U.adsFinishParse,{detail:{positions:t}}))},Nt={BTN:"BTNA","BTN-1":"BTNB","BTN-2":"BTNC","BTN-3":"BTND"},Ut={BTN:{},"BTN-1":{},"BTN-2":{},"BTN-3":{},BTNA:{},BTNB:{},BTNC:{},BTND:{},FB2A:{},FB2B:{},FB2C:{},FB2D:{}};let $t=0,qt=0;function Vt(t){if(t){let i=t?.slot?.getSlotElementId();i=i.replace(/default|sda-|-sizer/gi,""),i=Nt[i]||i,Ut[i]&&($t++,t.isEmpty?t.isEmpty&&(Ut[i].validAd=!1):Ut[i].validAd=!0),$t===qt&&(Dt(e,Ut),$t=0)}}function Ht(){Object.keys(this.config.positions).forEach((e=>{(e.includes("BTN")||e.includes("FB2"))&&qt++})),this.gpt.addEventListener(q.slotRenderEnded,(e=>{Vt.call(this,e)}))}function Gt(e){const t=e?.slot?.getSlotElementId(),i=document.getElementById(t);if(e?.size&&Array.isArray(e?.size)&&e?.size.length>=2){const t=e?.size[1],s=i?.clientHeight;t!==s&&i?.style.setProperty("min-height",t+"px")}}function Wt(){const e=Gt;this.gpt.addEventListener(q.slotRenderEnded,e.bind(this))}const Qt="INITIAL_RENDER_FAILURE",Kt="REFRESH_RENDER_FAILURE",Xt="REFRESH_RENDER",Jt="INITIAL_RENDER",Yt={ads_failure_total:0,ads_fetch_total:0,ads_refresh_total:0,ads_slot_right_failure:0,ads_slot_right_total:0,ads_slot_top_failure:0,ads_slot_top_total:0};function Zt(e,t){if(void 0===t.kvs||void 0===t.kvs.loc)return;const i=function(e){switch(e){case"top_right":return"right";case"top_center":return"top";default:return}}(t.kvs.loc);if(void 0===i)return;let s;return s=!0===e.isEmpty?t.isInitiallyLoaded()?Qt:Kt:t.isInitiallyLoaded()?Jt:Xt,function(e,t){const i={...Yt};switch(i[`ads_slot_${t}_total`]=1,e){case Jt:return i.ads_fetch_total=1,i;case Xt:return i.ads_refresh_total=1,i;case Qt:return i[`ads_slot_${t}_failure`]=1,i.ads_failure_total=1,i.ads_fetch_total=1,i;case Kt:return i[`ads_slot_${t}_failure`]=1,i.ads_failure_total=1,i.ads_refresh_total=1,i}}(s,i)}function ei(){this.gpt.addEventListener(q.slotRenderEnded,(e=>{const t=e.slot.getSlotElementId(),i=this.store.getAdComponentById(t);if(void 0===i||!tt(i))return;const s=Zt(e,i);void 0!==s&&dt(s,function(e={}){const{colo:t=nt,device:i=nt,lang:s=nt,partner:n=nt,region:o=nt,site:r=nt,src:a=nt,spaceid:c=nt}=e;return{spaceid:c,src:a,site:r,partner:n,lang:s,region:o,device:i,colo:t}}(this.config.i13n))}))}function ti(){this.gpt.addEventListener(q.slotRenderEnded,(e=>{const t=e.slot.getSlotElementId(),i=this.store.getAdComponentById(t);if(void 0===i||!tt(i))return;const s=function(e,t){const{id:i}=t,s=t.getRenderCount(),n=s>1?"true":"false",o=t.kvs?.loc?t.kvs.loc:"undefined",r=e.isEmpty?"failed":"succeeded";return{id:i,isRefresh:n,loc:Array.isArray(o)?o[0]:o,renderCount:s,status:r}}(e,i);lt(s,at(this.config,this.i13nStore))}))}function ii(e,t){(Array.isArray(e)?e:[e]).forEach((e=>{e.renewTimer(t)}))}function si(e){const t=function(e){return e.advertiserId&&e.campaignId&&e.creativeId&&e.lineItemId?R.DirectSold:R.DynamicAllocation}(e),i=function(e){const{advertiserId:t}=e;return t?G.House.includes(t)?w.House:G.AdTech.includes(t)?w.AdTech:G.AdX.includes(t)?w.AdX:w.Unknown:w.Unknown}(e);return t===R.DirectSold&&i===w.Unknown}function ni(e,t,i,s=!1){const n=e.config.setting?.refresh?.reserved,o=function(e,t,i){if(!i)return 0;const s=t&&i.sponsorship?i.sponsorship:i?.duration||0,n=e.size;if(!Array.isArray(n))return s;const o=JSON.stringify(n),r=i[T[o]];return r?t&&r?.sponsorship?r?.sponsorship:r?.duration:s}(t,s,n),r=i?.refreshConfig?.reserved;return(s&&r?.sponsorship?r?.sponsorship:r?.duration)||o}function oi(e,t,i,s){i?Object.keys(i).forEach((s=>{let n;n=s&&!0===i[s]?{}:s&&i[s];const o=k[s];if(n=Object.assign({},o,n),t&&n?.size&&e?.size&&n.size[0]===e.size[0]&&n.size[1]===e.size[1]){n.isEligibleForResize=!0,t.isEdgeToEdge=!0;const e=t.refreshConfig,i=e?.reserved&&e.reserved[s],o=i?.duration,r=i?.disableRefresh;r?t.disableAllRefresh():o&&ii(t,o)}else n.isEligibleForResize=!1;i[s]=n})):s&&(t&&e.size&&s?.size[0]===e.size[0]&&s?.size[1]===e.size[1]?(t.isEdgeToEdge=!0,s.isEligibleForResize=!0,s?.refresh?.duration&&ii(t,s?.refresh?.duration)):s.isEligibleForResize=!1)}function ri(e,t,i){let s;const n=document.getElementById(e);if(!n)return;const o=n?.children[0],r=o?.children[0];if(t){const e=Object.keys(t).find((e=>{const i=e&&t[e];return!!i&&!0===i.isEligibleForResize}));s=e&&t[e]}else if(Array.isArray(i)){s=i.find((e=>!0===e.isEligibleForResize))}else s=i;if(!s)return;const a=window.innerWidth,c=s?.breakpoints;let d,l=!0;for(const e in c)if(r&&e){const t=e.split(","),i=Number(t[0]),s=Number(t[1]);if(a>=i&&a<=s){const t=c[e];d=a*t[1]/t[0],l&&(n.setAttribute("style",`min-height: ${d}px;`),l=!1),o.style.display="block",r.height=d.toString(),r.width=a.toString()}}}function ai(e){e.loadResizeHandler((()=>{e.isEdgeToEdge&&e.customSizeConfig?ri(e.id,e.customSizeConfig):e.isEdgeToEdge&&e.resizeConfig&&ri(e.id,void 0,e.resizeConfig)}))}function ci(e,t){const i=document.getElementById(e);i&&(i.setAttribute("class",`${A}`),t&&function(e){e.classList?.add("D(n)--landscape");const t=e.parentElement&&ze(e.parentElement);t?.classList?.add("D(n)--landscape")}(i))}function di(e){const t=e.slot.getSlotElementId(),i=this.store.getAdComponentById(t);if(void 0===i||!tt(i))return;const s=i.customSizeConfig,n=i.resizeConfig;if(si(e)){const t=ni(this,e,i,!1);t&&ii(i,t)}if(i.isEdgeToEdge=!1,n?Array.isArray(n)?n.forEach((t=>{oi(e,i,void 0,t)})):n&&oi(e,i,void 0,n):s&&oi(e,i,s),i.isEdgeToEdge&&i.resizeConfig){ci(t,"smartphone"===this.config.i13n?.device),ri(i.id,void 0,i.resizeConfig),1===i.getRenderCount()&&ai(i)}else if(i.isEdgeToEdge&&i.customSizeConfig){ci(t,"smartphone"===this.config.i13n?.device),ri(i.id,s),1===i.getRenderCount()&&ai(i)}else{const e=document.getElementById(t);e?.classList?.remove("D(n)--landscape");const i=e?.parentElement&&ze(e.parentElement);i?.classList?.remove("D(n)--landscape")}}function li(){this.gpt.addEventListener(q.slotRenderEnded,(e=>{di.call(this,e)}))}function hi(){this.gpt.addEventListener(q.slotRequested,(e=>{const t=e.slot.getSlotElementId(),i=this.store.getAdComponentById(t);if(!i)return;tt(i)&&i.increaseFetchCount();const s={data:{id:e.slot.getSlotElementId()},name:pe};je[pe]&&je[pe].forEach((e=>{e(s)})),tt(i)&&i.getRenderCount()>=1&&i.unloadResizeHandler()})),this.gpt.addEventListener(q.slotRenderEnded,(e=>{const t=e.slot.getSlotElementId(),i=this.store.getAdComponentById(t);if(i)if(tt(i)&&function(e){if(void 0===e)return;const t=`${e.getRenderCount()}`;e.gptComponent.setTargetingForSlot(e,{ri:t})}(i),e.isEmpty){tt(i)&&i?.increaseFailureCount();const t={data:{id:e.slot.getSlotElementId()},name:ue};je[ue]&&je[ue].forEach((e=>{e(t)}))}else{const t=function(e){const{slot:t,size:i}=e;return{data:{id:t.getSlotElementId(),size:i},name:ge}}(e);je[ge]&&je[ge].forEach((e=>{e(t)}))}}))}function gi(e){let t=!1;const i=new Set(e),s={positions:{}};this.gpt.addEventListener(q.slotRenderEnded,(e=>{if(t)return;const n=e.slot.getSlotElementId(),o=this.config.positions[n];if(i.has(n)&&Fe(o)){i.delete(n);const t=si(e);s.positions[n]={adType:t?be.RESERVED:be.STANDARD,id:n,loc:o.kvs?.loc,renderStatus:e.isEmpty?ue:ge}}0===i.size&&(je[fe]&&je[fe].forEach((e=>{e(s)})),t=!0)}))}const ui=(e,t)=>{const i=((e,t)=>{const i=(e=>e.region||e.usercountry||"")(t);let s=Ae;return t.gdpr?s=_e:"us"===i.toLocaleLowerCase()&&(s=Ee),s.some((t=>!1===e[t]))})(e,t),s=(e=>{let t=!1;const i=ve.every((t=>!e[t])),s=ye.every((t=>e[t]));return t=i&&s,t})(e);var n;return{allowOnlyLimitedAds:i,allowOnlyNonPersonalizedAds:s,optedInToAll:(n=e,Object.values(n).every((e=>e)))}};function pi(){this.gpt.addEventListener(q.slotRequested,(()=>{this.hbc.updateAxids()}))}function fi(){this.gpt.addEventListener(q.slotRequested,(e=>{const t=e.slot.getSlotElementId();this.nts.unmonitorPosition(t)})),this.gpt.addEventListener(q.slotRenderEnded,(e=>{const t=e.slot.getSlotElementId(),i=this.store.getAdComponentById(t);if(!e.isEmpty||!i||!tt(i))return;const s=i.ntsFallBack?.position;s?this.nts.getFallbackPosition(i):this.nts.beacon.adFailedWithNoFallback(i)}))}class mi{i13nStore;config;constructor(e,t){this.i13nStore=e,this.config=t}getDebugContext(e,t){const{id:i}=t,s=t.getRenderCount(),n=t.kvs?.loc?t.kvs.loc:"undefined",o=e.isEmpty?"failed":"succeeded";return{errorMessage:e.errorMessage||"",id:i,loc:Array.isArray(n)?n[0]:n,renderCount:s,sourceType:"native",status:o}}sendDebugBeacon(e,t){const i=this.getDebugContext(e,t);lt(i,at(this.config,this.i13nStore))}fallbackRendered(e){this.sendDebugBeacon({isEmpty:!1},e)}adFailedWithNoFallback(e){this.sendDebugBeacon({errorMessage:"Failed ad with no fallback",isEmpty:!0},e)}fallbackEmptyTemplateError(e,t){this.sendDebugBeacon({errorMessage:e,isEmpty:!0},t)}}const bi=["bucket","hashtag","lmsid","lpstaid","lu","pct","pd","pt","site"];const yi={gpt:new class{_googletag;features;refreshQueue;debounceTimer;constructor(){return this.features={},this.refreshQueue=[],this.debounceTimer=null,this._googletag={},this._googletag.cmd=[],void 0!==e&&(e.googletag?this._googletag=e.googletag:e.googletag=this._googletag),this}addCallbackToCmdQueue(e){this._googletag.cmd.push((()=>{e()}))}addEventListener(e,t){this._googletag.cmd.push((()=>{this._googletag.pubads().addEventListener(e,t)}))}create(...e){const[t,i]=e,{path:s,size:n,id:o,gptSetting:r}=t,{safeFrameConfig:a={}}=r||{};this._googletag.cmd.push((()=>{const e=this._googletag.defineSlot(s,n,o).setSafeFrameConfig(Oe(a)).addService(this._googletag.pubads());i.slot=e}))}clearTargeting(e){this._googletag.cmd.push((()=>{0!==this._googletag.pubads().getTargeting(e).length&&this._googletag.pubads().clearTargeting(e)}))}destroy(e){this._googletag.cmd.push((()=>{this._googletag.destroySlots(e)}))}enableLazyLoad(e){this._googletag.cmd.push((()=>{const t={...he,...e};this._googletag.pubads().enableLazyLoad({fetchMarginPercent:t.fetchMarginPercent,mobileScaling:t.mobileScaling,renderMarginPercent:t.renderMarginPercent})}))}enableSizeMappingForSlot(e,t,i){this._googletag.cmd.push((()=>{const s=this._googletag.sizeMapping().addSize(t,i).build();e.slot?.defineSizeMapping(s)}))}refresh(e){this.features.enableRefreshDebounce?this._refreshWithDebounce(e):this._refresh(e)}render(...e){const[t,i]=e;this._googletag.cmd.push((()=>{this.features.enableCtrldSRABatch&&this.features.headerBidding&&i&&i.slot?this.refresh([i.slot]):this._display(t)}))}setInitalPageUrl(){this._googletag.cmd.push((()=>{const t=e.location.href;this._googletag.pubads().set("page_url",t)}))}setPrivacySettings(e){this._googletag.cmd.push((()=>{this._googletag.pubads().setPrivacySettings(e)}))}setPublisherProvidedId(e){this._googletag.cmd.push((()=>{this._googletag.pubads().setPublisherProvidedId(e)}))}setupService(e,t){this.features=e,this._googletag.cmd.push((()=>{this.features.enableCtrldSRABatch&&this.features.headerBidding&&this._googletag.pubads().disableInitialLoad(),this._googletag.pubads().enableSingleRequest(),this._googletag.pubads().setForceSafeFrame(!0);const{safeFrameConfig:e={}}=t??{},i={...me,...Oe(e)};this._googletag.pubads().setSafeFrameConfig(i),this._googletag.enableServices()}))}setTargeting(e){this._googletag.cmd.push((()=>{Object.keys(e).forEach((t=>{this._googletag.pubads().setTargeting(t,e[t])}))}))}setPageUrl(e){this._googletag.cmd.push((()=>{this._googletag.pubads().get("page_url")!==e&&this._googletag.pubads().set("page_url",e)}))}getTargetings(e,t){this._googletag.cmd.push((()=>{const i={};e.forEach((e=>{i[e]=this._googletag.pubads().getTargeting(e).join(",")})),t&&t(i)}))}setTargetingForSlot(e,t){this._googletag.cmd.push((()=>{Object.keys(t).forEach((i=>{const s=t[i];e.slot.setTargeting(i,s),void 0===e.kvs&&(e.kvs={}),e.kvs[i]=s}))}))}collapseEmptyDivs(e){this._googletag.cmd.push((()=>{this._googletag.pubads().collapseEmptyDivs(e)}))}_display(e){this._googletag.cmd.push((()=>{this._googletag.display(e)}))}_refresh(e){this._googletag.cmd.push((()=>{this._googletag.pubads().refresh(e)}))}_refreshWithDebounce(e){this.refreshQueue.push(...e),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((()=>{this._refresh(this.refreshQueue),this.refreshQueue=[],this.debounceTimer=null}),20)}},hbc:new class{_advBidxc;yhDn="hb.yahoo.net";activated=!1;allowPersonalizedAds=!0;constructor(){return this._advBidxc={},this._advBidxc.version=12.1,this._advBidxc.execute=[],this}start(t){const{benji:i,i13n:s,customerId:n,limitedAds:o,allowPersonalizedAds:r}=t;this.activated=!0,this._advBidxc.customerId=n;const a={device:s.device??"",lang:s.lang??"",region:this.setRegion(s),section:this.setSection(s),site:s.site??""};if(this.allowPersonalizedAds=r,this.allowPersonalizedAds){const[t,i]=[Bt(e)||"",Tt(e)];t&&(a.axid_e=t),i&&(a.axid_l=i)}return this._advBidxc.mchnm=s.mchnm??"",this._advBidxc.startTime=(new Date).getTime(),this._advBidxc.timeout=1e3,this._advBidxc.limitedAds=o,this._advBidxc.isAdServerLoaded=!1,this._advBidxc.pub=a,void 0!==e&&(this._advBidxc.domain=e.location.hostname,e.advBidxc?this._advBidxc=e.advBidxc:(this._advBidxc.loadGPT=setTimeout((()=>this.loadGPT()),1e3),e.advBidxc=this._advBidxc,this.loadMNETScript())),pi.call(i),this}loadGPT(){e.advBidxc&&!e.advBidxc.isAdServerLoaded&&(St(e,e.advBidxc.limitedAds),e.advBidxc.isAdServerLoaded=!0)}loadMNETScript(){Ct({id:"mnet-script",tagSrc:"https://"+this.yhDn+"/bidexchange.js?cid="+this._advBidxc.customerId+"&version="+this._advBidxc.version+"&dn="+this._advBidxc.domain+"&ysection="+encodeURIComponent(this._advBidxc.pub?.section)+"&yregion="+encodeURIComponent(this._advBidxc.pub?.region)+"&ylang="+encodeURIComponent(this._advBidxc.pub?.lang)+"&ysite="+encodeURIComponent(this._advBidxc.pub?.site)+"&ydevice="+encodeURIComponent(this._advBidxc.pub?.device),WIN:e})}setSection(e){const{pt:t}=e;return"home"===t?"main":"utility"===t?"utility":"ros"}setRegion(e){const t=e.region,i=e.lang;if(t)return t;if(i){const e=i.toLocaleLowerCase().split("-");return e[1]??e[0]}return this._advBidxc.pub?.region||""}limitDataProcessing(){this._advBidxc.execute.push((()=>{this._advBidxc.limitDataProcessing(!0)}))}updateAxids(){if(!(this.allowPersonalizedAds&&(!this._advBidxc.pub.axid_e||!this._advBidxc.pub.axid_l)))return;const[t,i]=[Bt(e),Tt(e)];!this._advBidxc.pub.axid_e&&t&&(this._advBidxc.pub.axid_e=t),!this._advBidxc.pub.axid_l&&i&&(this._advBidxc.pub.axid_l=i)}updateMNETKVS(t){const{url:i,...s}=t,n={pub:{...this._advBidxc.pub,...s},url:i||e.location.href};this._advBidxc.pub=n.pub,this._advBidxc.execute.push((()=>{this._advBidxc.update(n)}))}getMnetKVs(e,t){const i={};return K.forEach((s=>{t.hasOwnProperty(s)?i[s]=xt(t[s]):i[s]=e[s]||""})),""===i.lu&&(i.lu=m),Array.isArray(i.hashtag)&&(i.hashtag=i.hashtag.join(",")),Array.isArray(i.bucket)&&(i.bucket=i.bucket.join(",")),""===i.hashtag&&delete i.hashtag,i}createPublisherBlob(e){const t={};for(const i of X)void 0!==e[i]&&""!==e[i]&&(t[i]=e[i]);return[Object.entries(t).map((e=>e.join(":"))).join(";"),"",e.spaceid,"","","",e.bucket,""].join("|")}sendMnetKvs(e,t){const i=this.getMnetKVs(e,t),{bucket:s,cobrand:n,hashtag:o,commerceArticleType:r}=i,a=i.lang,c=i.site||this._advBidxc.pub?.site,d=this.createPublisherBlob(i),l=o?{k5:{key:p,value:o}}:{},m=r?{k9:{key:u,value:r}}:{},b={k1:{key:"publisherblob",value:d},k2:{key:h,value:xt(s)},k3:{key:g,value:n},k4:{key:f,value:a},...l,k8:{key:"site",value:c},...m};this.setCustomMNETKeyValues(b);const y=i.mchnm||this._advBidxc.mchnm,v=this.setSection(i),_=this.setRegion(i),E=i.device||this._advBidxc.pub?.device,A=i.url||"";this.updateMNETKVS({device:E,lang:a,mchnm:y,region:_,section:v,site:c,url:A})}setCustomMNETKeyValues(e){this._advBidxc.execute.push((()=>{this._advBidxc.setCustomKeyValues(e)}))}},i13nStore:new class{currentI13n={};regions={};constructor(){return this}updateCurrent(e){this.currentI13n={...this.currentI13n,...e};const t=e.pstaid??e.lpstaid;t&&this.putRegion(t,e)}clearKeysFromCurrent(e){e.forEach((e=>{this.currentI13n[e]&&delete this.currentI13n[e]}))}putRegion(e,t){this.regions[e]?this.regions[e]={...this.regions[e],...t}:this.regions[e]=t}getRegion(e){return this.regions[e]}getKeyDifferences(e){return Object.keys(e).reduce(((t,i)=>{let s=e[i],n=this.currentI13n[i];return re.hasOwnProperty(i)&&(s=Lt(s).join(","),n=Array.isArray(n)?n.join(","):n),this.currentI13n.hasOwnProperty(i)?s!==n&&(t[i]=e[i]):t[i]=e[i],t}),{})}},nts:new class{activated=!1;activePositions=[];activeScriptSrcs=[];_intersectionObserver={};_impressionObserver={};beacon={};constructor(){}start({benji:e}){this.activated=!0,this._intersectionObserver=new IntersectionObserver(this.handleIntersection,{threshold:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this._impressionObserver=new IntersectionObserver(this.handleImpressionIntersection,{threshold:[.5]});const t=new mi(e.i13nStore,e.config);this.beacon=t,fi.call(e)}destroyAndCollapsePosition(e){this.unmonitorPosition(e.id),Ft(e.id),e.destroy()}encodePblob(e){const t=JSON.stringify(e);return encodeURIComponent(t)}getTemplateUrl(e){const t=this.beacon.i13nStore.currentI13n?.spaceid,i=(s=this.beacon.i13nStore.currentI13n,bi.reduce(((e,t)=>(s&&s.hasOwnProperty(t)&&(e[t]=s[t]),e)),{}));var s;return`https://nts.media.yahoo.com/api/v2/template?spaceid=${t}&adPositions=${e}&pageContext=${this.encodePblob(i)}`}handleIntersection=e=>{e.forEach((e=>{const{target:t,intersectionRatio:i}=e,s=t.id,n=qe[s];n&&n(100*i)}))};handleImpressionIntersection=e=>{e.forEach((e=>{const{target:t,intersectionRatio:i}=e;i>.5&&(this.triggerAdImpressionViewable(t),this._impressionObserver.unobserve(t))}))};triggerAdImpressionViewable(e){const t=e.id,i=Ve[t];i&&i()}fetchTemplate(e){return fetch(e).then((e=>{if(e.ok)return e.json();throw new Error("Network error")})).then((e=>{if(!e.ads||!e.ads.length)throw new Error("No ads found");const{template:t,adSize:i}=e.ads[0],[s,n]=i.split("x");return{height:n,template:t,width:s}}))}unmonitorPosition(e){const t=document.getElementById(e);t&&(this._intersectionObserver.unobserve(t),this._impressionObserver.unobserve(t))}monitorPosition(e){e&&(this._intersectionObserver.observe(e),this._impressionObserver.observe(e))}getBlobURL(e){const t=new Blob([e],{type:"text/html"});return URL.createObjectURL(t)}addTemplateToAdContainer(e,t){const{template:i,width:s,height:n}=t,o=this.getBlobURL(i),r=document.createElement("iframe");r.width=(Number(s)+10).toString(),r.height=(Number(n)+10).toString(),r.style.border="none",r.sandbox="allow-scripts allow-popups",r.src=o,r.scrolling="no",e.style.display="flex",e.style.flexDirection="column",e.style.alignItems="center",e.innerHTML="",e.appendChild(r),URL.revokeObjectURL(o)}getFallbackPosition(e){const t=document.getElementById(e.id);if(!t)return Promise.reject();const i=this.getTemplateUrl(e.ntsFallBack.position);return this.fetchTemplate(i).then((i=>{this.addTemplateToAdContainer(t,i),this.monitorPosition(t),this.beacon.fallbackRendered(e)})).catch((t=>{this.destroyAndCollapsePosition(e),this.beacon.fallbackEmptyTemplateError(t,e)}))}},secureController:new class{config;_iframe;_iframeReady;_observer;_commandQueue;targetOrigin;constructor(){this.config={},this._iframeReady=!1,this._commandQueue=[],this.targetOrigin="https://s.yimg.com"}handlePostMessage=e=>{if(e.origin!==this.targetOrigin)return;const{type:t}=e.data;switch(t){case i:this._iframeReady=!0;for(let e=0;e<this._commandQueue.length;e++)this.postMessageToIframe({payload:this._commandQueue[e][1],type:this._commandQueue[e][0]});this._commandQueue=[];break;case r:const{id:t,size:s}=e.data.payload;if(s&&Array.isArray(s)){const e=document.getElementById(t);e?.querySelector("iframe")?.setAttribute("style",`width:${s[0]}px;height:${s[1]}px;border:0px;margin:0;`)}}};handleIntersection=e=>{const t=e.map((e=>({id:e.target.id,intersectionRatio:e.intersectionRatio,isIntersecting:e.isIntersecting,isVisible:e.isVisible,time:e.time})));this._iframeReady?this.postMessageToIframe({payload:t,type:n}):this._commandQueue.push([n,t])};handleTabFocus=()=>{this.postMessageToIframe({payload:!0,type:c})};createGPTIframe(){this._iframe=document.createElement("iframe"),this._iframe.setAttribute("src",`https://s.yimg.com/aaq/benji-safe/1.0.143/gpt.html?o=${encodeURIComponent(e.location.origin)}`),this._iframe.onload=()=>{this.initIframe(),this.initPagei13n()},this._iframe.style.display="none",document.body.appendChild(this._iframe)}createIframes(e){const{positions:t}=e;Object.keys(t).forEach((e=>{const t=document.getElementById(e);if(!t?.querySelector("iframe")){this._observer?.observe(t);const i=document.createElement("iframe");i.setAttribute("src",`https://s.yimg.com/aaq/benji-safe/1.0.143/sda.html?p=${e}`),i.setAttribute("scrolling","no"),i.setAttribute("style","border:0px;margin:0px;");document.createElement("div").id=e,t?.appendChild(i)}}))}init(t){if("undefined"!=typeof window){if(this.config=t,!this._iframe){window.addEventListener("message",this.handlePostMessage),this._observer=new IntersectionObserver(this.handleIntersection,{threshold:.5});const{tabFocus:t}=this.config.setting.refresh;if(t){const{outOfFocusDuration:i}=t;e.addEventListener(Q.tabFocus,this.handleTabFocus),Ce(i)}this.createGPTIframe()}this.createIframes(t)}}initIframe(){this.postMessageToIframe({payload:{config:this.config},type:t})}initPagei13n(){this.postMessageToIframe({payload:{},type:s})}render(e){this._iframeReady?this.postMessageToIframe({payload:{config:e},type:o}):this._commandQueue.push([o,{config:e}])}start(e){this.init(e),this._iframeReady?this.postMessageToIframe({type:a}):this._commandQueue.push([a,{config:e}])}postMessageToIframe(e){this._iframe?.contentWindow?.postMessage(e,this.targetOrigin)}},store:new class{constructor(){return this}add(e,t,i){return void 0===this[e]?(this[e]={[t]:i},i):void 0===this[e][t]?(this[e][t]=i,i):void 0}delete(e,t){this[e]&&this[e][t]&&delete this[e][t]}getAdComponent(e,t){if(void 0!==this[e])return this[e][t]}getAdComponentById(e){const t=Object.entries(this);for(let i=0;i<t.length;i++){const[,s]=t[i];if(void 0!==s[e])return s[e]}}getStackAdComponents(e){const t=[],i=Object.entries(this);for(let s=0;s<i.length;s++){const[,n]=i[s];Object.values(n).forEach((i=>{tt(i)&&i?.stackGroup===e&&t.push(i)}))}return t}getRegionAdComponents(e){return"object"==typeof this[e]?Object.values(this[e]):[]}},taboola:new class{_taboola;features;pageType;pageTypeValue;url;constructor(){return this.features={},this._taboola=[],this.pageType=void 0,this.pageTypeValue="",void 0!==e&&(e._taboola?this._taboola=e._taboola:e._taboola=this._taboola),this}create(...e){const[t]=e;if(!t)return;const{container:i,mode:s,placement:n,target_type:o,cseg:r}=t,a={container:i,mode:s,placement:n,target_type:o,...r&&{cseg:r}};this._taboola.push(a)}destroy(e){}render(){this._taboola.push(Se)}setupService(t,i){const{publisherId:s,pageType:n,pageTypeValue:o,url:r}=i;if(this.features=t,!s||!e||!n)return;this.pageType=n,this.pageTypeValue=o??"auto",this.url=r;const a=(e=>{if(!e||"string"!=typeof e)return;if(!/^[a-zA-Z0-9]+([-_][a-zA-Z0-9]+)*$/.test(e))return;const t=encodeURIComponent(e);return L.replace(x,t)})(s);if(!a)return;Ct({async:!0,id:"taboola-script",onerrorCb:this._onFailure,tagSrc:a,WIN:e});const c={[this.pageType]:this.pageTypeValue},d=this.url&&(e=>{try{const t=new URL(e);return t.origin+t.pathname}catch(e){return null}})(this.url);if(d){const e={...c,url:d};this._taboola.push(e)}else this._taboola.push(c)}_onFailure(){}},on:function(e,t){(function(e){return e===ge||e===ue||e===pe||e===fe})(e)&&(je[e]||(je[e]=[]),je[e].push(t))},start:function(t){if(!t||!t.positions||!t.setting||0===Object.keys(t).length)return;this.config={...t,event:t.event||{},feature:t.feature||{},i13n:t.i13n||{},setting:t.setting||{}},this.config.setting.tracking={...this.config.setting.tracking,metrics:this.config.setting.tracking?.metrics??true,performance:this.config.setting.tracking?.performance??true},hi.call(this),!0===this.config.setting.tracking?.performance&&ft.call(this),!0===this.config.setting.tracking?.metrics&&ei.call(this),!0===this.config.setting.tracking?.debug&&ti.call(this);const{feature:{headerBidding:i,enablef10d509c:s=te,enableNTSFallback:n},setting:{gptSetting:o,headerBidder:r}}=this.config,a=((e="")=>("string"==typeof e?Array.from(e).map((e=>e.charCodeAt(0).toString(16))).join(""):"").substring(0,150))(Tt(e));s&&function(e,t){const i=Pe(t);Ct({async:!0,id:F,tagSrc:i,WIN:e})}(e,this.config.i13n.site);const{allowOnlyNonPersonalizedAds:c,allowOnlyLimitedAds:d}=t.setting?.consent||{},h=t.setting?.allowOnlyLimitedAds||d;if(i&&r?.customerId){const e={allowPersonalizedAds:!c&&!h,benji:this,customerId:r.customerId,i13n:this.config.i13n,limitedAds:!!h};this.hbc.start(e)}else St(e,!!h);n&&this.nts.start({benji:this});const g={};this.config.feature&&$.forEach((e=>{this.config.feature[e]&&(g[e]=this.config.feature[e])})),this.gpt.setupService(g,o),this.gpt.setInitalPageUrl();const{useSecure:u=!1}=this.config.setting;if(!u){if(zt(this,e),this.config.setting.refresh){Qe.call(this);const{tabFocus:t,requireUserAction:i}=this.config.setting.refresh;if(t){const{outOfFocusDuration:i}=t;Ce(i),e.addEventListener(Q.tabFocus,(()=>{Object.keys(He).forEach((e=>{(0,He[e])()})),We.length=0}))}i&&Ke()}e.addEventListener("resize",(()=>{Object.keys(Ge).forEach((e=>{(0,Ge[e])()}))}))}!a||c||h||this.gpt.setPublisherProvidedId(a),c?this.gpt.setPrivacySettings(H):h&&(this.gpt.setPrivacySettings(V),this.hbc.activated&&this.hbc.limitDataProcessing()),!0===this.config.setting.lazyLoad?this.gpt?.enableLazyLoad():this.config.setting.lazyLoad&&this.gpt?.enableLazyLoad(this.config.setting.lazyLoad);const{positions:p}=this.config;u?this.secureController.start(this.config):it.call(this,p);const f=Object.keys(this.store.index||{});gi.call(this,f);const{setting:{renderOnStart:m=l}}=this.config;!0===m&&e.addEventListener("DOMContentLoaded",(()=>{u?this.secureController.render():bt.call(this)})),e.addEventListener(W,(e=>{const t=e.detail;u?this.secureController.render(t.positions):bt.call(this,t.positions)})),e.wafer?At():e.addEventListener(U.waferReady,(function(){At()})),!1!==this.config.feature?.collapseWhenNoFill&&Mt.call(this),!1!==this.config.feature?.adjustMinHeight&&Wt.call(this),!1!==this.config.feature?.enablePremiumAds&&li.call(this),this.config.feature?.fireBrokerButtonEvent&&Ht.call(this),this.config.feature?.enableGooglePrivacySandboxPAIGTest&&function(e){It(e,"opus:gps-paig-test","true")}(e),this.config.feature?.enableGooglePrivacySandboxARTest&&function(e){It(e,"opus:gps-ar-test","true")}(e),function(e){Ct({id:M,tagSrc:P,WIN:e})}(e),(e=>{const t=new CustomEvent(Q.benjiReady);e.dispatchEvent(t)})(e),this.isReady=!0}};yi.render=bt,yi.refresh=function(e,t){const i=Te(this,e);i?.forEach((e=>{(!t?.checkViewport||t?.checkViewport&&ke(e?.id))&&e?.refresh()}))},yi.destroy=function(e){const t=Te(this,e);t?.forEach((e=>{e?.destroy()}))},yi.updateI13N=function(e,t=[]){if(!e||"object"!=typeof e)return;const i=this.i13nStore.getKeyDifferences(e);(Object.keys(i).length||t.length)&&function(e,t,i){const{gpt:s,hbc:n}=e,o={};let r;t&&t.url&&(r=t.url,s.setPageUrl(r)),Pt(le,t,o),i&&i.length&&"string"!=typeof i&&(i?.forEach((e=>{s.clearTargeting(e)})),e.i13nStore.clearKeysFromCurrent(i));const a=xe(o,ce);Object.keys(a).length>0&&(s.setTargeting(a),e.i13nStore.updateCurrent(a),n.activated&&s.getTargetings(K,(e=>{n.sendMnetKvs(e,{...a,url:r})})))}(this,i,t)},yi.getConsent=function(e,t){return ui(t,e)},yi.isReady=!1;const vi=yi;!function(){if(e){const t=e.benji?.config&&Object.assign({},e.benji?.config);e.benji=vi,t&&e.benji.start(t)}}()}();
//# sourceMappingURL=benji-1.0.143.js.map
